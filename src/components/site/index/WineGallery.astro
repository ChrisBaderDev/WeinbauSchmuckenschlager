---
import { getEntry } from "astro:content";
import { Image } from "astro:assets";
import LeseImage from "../../../assets/images/Lese.webp"
import HorizontalLine from "../../animation/HorizontalLine.astro";

const winesEntry = await getEntry("wines", "wines");
const wines = winesEntry?.data ?? [];
---

<section>
  <!-- Section Heading  -->
  <HorizontalLine direction="right" color="black" width="100%" />
  <div class="relative">
    <Image
      class="w-full object-cover h-100"
      src={LeseImage}
      alt="Lese"
    />
    <div class="absolute inset-0 flex items-center justify-center bg-black/40">
      <h2 class="text-white text-4xl fade-up">Unsere Weine</h2>
    </div>
  </div>
  <!-- Wine Slide Gallery -->
  <HorizontalLine direction="left" color="black" width="100%" />
  <div class="overflow-hidden px-4 py-2">
    <div class="flex justify-evenly gap-6 overflow-x-auto snap-x snap-mandatory scroll-smooth p-20">
      {
        wines.map((wine: any) => (
          <a
            class="shrink-0 snap-center w-40 md:w-48 lg:w-52 flex flex-col transition-all mx-10"
            href="https://www.shop-weinbau-schmuckenschlager.com/"
          >
            <div class=" h-100 overflow-hidden duration-300 hover:-translate-y-2">
              <Image
                src={wine.image}
                alt={wine.name}
                class="w-full h-full object-cover object-top"
                quality={85}
                format="webp"
                loading="lazy"
                width={600}
              />
            </div>
            <div class="mt-5 text-center">
              <h3 class="text-xl">{wine.name}</h3>
              <p class="text-neutral-500">{wine.year}</p>
            </div>
          </a>
        ))
      }
    </div>
  </div>
</section>
